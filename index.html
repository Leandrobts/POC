<!DOCTYPE html>
<html>
<head>
    <title>PS4 Manual Walker</title>
    <style>
        body { background-color: #111; color: #eee; font-family: monospace; padding: 20px; text-align: center; }
        
        #display { 
            font-size: 60px; 
            color: #00ffcc; 
            margin: 20px 0; 
            font-weight: bold;
            border: 2px solid #333;
            padding: 20px;
            background: #222;
        }

        button { 
            font-size: 28px; 
            padding: 25px; 
            margin: 10px; 
            cursor: pointer; 
            width: 90%; 
            border: none; 
            border-radius: 10px;
        }

        .btn-fire { background-color: #e74c3c; color: white; font-weight: bold; }
        .btn-safe { background-color: #3498db; color: white; }
        
        #log { margin-top: 20px; color: #aaa; font-size: 18px; }
    </style>
</head>
<body>

    <h2>Caminhante Manual (Walker)</h2>
    <p>Clique para aumentar e testar. O console vai travar no número exato.</p>

    <div id="display">709522</div>

    <button class="btn-fire" onclick="stepAndFire()">AUMENTAR +1 E DISPARAR</button>
    
    <br><br>
    
    <button class="btn-safe" onclick="manualSet()">Definir valor manual...</button>

    <div id="log">Pronto. Início: 709522</div>

    <script>
        // Começa no último valor seguro conhecido
        let currentSize = 709522;
        const display = document.getElementById('display');
        const log = document.getElementById('log');

        function updateDisplay() {
            display.innerText = currentSize;
        }

        function stepAndFire() {
            // 1. Aumenta o tamanho
            currentSize++;
            updateDisplay();

            // 2. Dispara o payload
            firePayload();
        }

        function firePayload() {
            try {
                const payload = "/" + "A".repeat(currentSize);
                
                // Tenta travar
                history.pushState({}, "walk", payload);
                
                // Se chegou aqui, sobreviveu
                log.innerText = "Sobreviveu: " + currentSize + " bytes.";
                log.style.color = "#00ffcc";

            } catch (e) {
                log.innerText = "Erro JS (não é crash): " + e.message;
                log.style.color = "yellow";
            }
        }

        function manualSet() {
            let val = prompt("Digite um valor para pular:", currentSize);
            if (val) {
                currentSize = parseInt(val);
                updateDisplay();
                log.innerText = "Valor alterado para " + currentSize + ". Clique em Disparar.";
            }
        }
    </script>
</body>
</html>
