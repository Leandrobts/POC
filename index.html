<!DOCTYPE html>
<html>
<head>
    <title>PS4 Mega Probe (MB Level)</title>
    <style>
        body { background-color: #000; color: #fff; font-family: monospace; padding: 20px; text-align: center; }
        button { 
            font-size: 20px; padding: 20px; margin: 10px; cursor: pointer; 
            width: 90%; border: 2px solid #555; background: #222; color: #fff; font-weight: bold;
        }
        .step-1 { border-color: #3498db; color: #3498db; } /* Azul */
        .step-2 { border-color: #e74c3c; color: #e74c3c; } /* Vermelho */
        .step-3 { border-color: #9b59b6; color: #9b59b6; } /* Roxo */
        #log { margin-top: 20px; border: 1px solid #333; padding: 15px; color: yellow; }
    </style>
</head>
<body>

    <h1>Sonda de Megabytes</h1>
    <p>Buscando o limite: 2MB ou 4MB?</p>

    <div id="log">Pronto. Base: ~709 KB.</div>

    <button class="step-1" onclick="megaProbe(1000000)">1. Adicionar +1 MB (Total ~1.7 MB)</button>
    <button class="step-2" onclick="megaProbe(1500000)">2. Adicionar +1.5 MB (Total ~2.2 MB)</button>
    <button class="step-3" onclick="megaProbe(3500000)">3. Adicionar +3.5 MB (Total ~4.2 MB)</button>

    <script>
        const BASE_OFFSET = 709522;

        function log(msg) {
            document.getElementById('log').innerText = msg;
        }

        function megaProbe(extraBytes) {
            let totalMB = (BASE_OFFSET + extraBytes) / 1024 / 1024;
            log("Testando Total: " + totalMB.toFixed(2) + " MB...");
            
            setTimeout(() => {
                try {
                    // 1. Base
                    let buffer = "A".repeat(BASE_OFFSET);
                    
                    // 2. Extens√£o Gigante (0x01)
                    buffer += "\x01".repeat(extraBytes);

                    // Dispara
                    history.pushState({}, "mega_" + extraBytes, "/" + buffer);
                    
                    log("SOBREVIVEU! O sistema aceitou " + totalMB.toFixed(2) + " MB.");
                    document.body.style.backgroundColor = "#002200";

                } catch (e) {
                    log("Erro JS (String muito longa?): " + e.message);
                }
            }, 1000); // Mais tempo para processar strings gigantes
        }
    </script>
</body>
</html>
