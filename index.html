<!DOCTYPE html>
<html>
<head>
    <title>PS4 Deep Probe (Safe Bytes)</title>
    <style>
        body { background-color: #000; color: #aaa; font-family: monospace; padding: 20px; text-align: center; }
        button { 
            font-size: 22px; padding: 20px; margin: 15px; cursor: pointer; 
            width: 80%; border: 1px solid #555; background: #222; color: #fff;
        }
        .level-1 { border-color: #3498db; color: #3498db; }
        .level-2 { border-color: #f1c40f; color: #f1c40f; }
        .level-3 { border-color: #e67e22; color: #e67e22; }
        .level-4 { border-color: #e74c3c; color: #e74c3c; font-weight: bold; }
        #log { margin-top: 20px; border: 1px solid #333; padding: 15px; color: #fff; }
    </style>
</head>
<body>

    <h1>Sonda de Profundidade</h1>
    <p>Até onde podemos ir com bytes seguros (0x01)?</p>

    <div id="log">Pronto.</div>

    <button class="level-1" onclick="probe(256)">1. Sonda: +256 Bytes</button>
    <button class="level-2" onclick="probe(1024)">2. Sonda: +1024 Bytes (1KB)</button>
    <button class="level-3" onclick="probe(4096)">3. Sonda: +4096 Bytes (4KB)</button>
    <button class="level-4" onclick="probe(32000)">4. Sonda: +32000 Bytes (32KB)</button>

    <script>
        const BASE_OFFSET = 709522;

        function log(msg) {
            document.getElementById('log').innerText = msg;
        }

        function probe(depth) {
            log("Injetando " + depth + " bytes extras de 0x01...");
            
            setTimeout(() => {
                try {
                    // 1. Base
                    let buffer = "A".repeat(BASE_OFFSET);
                    
                    // 2. Extensão Profunda (apenas bytes seguros)
                    // Repetimos o caractere 0x01 (Start of Header)
                    buffer += "\x01".repeat(depth);

                    // Dispara
                    history.pushState({}, "deep_probe_" + depth, "/" + buffer);
                    
                    log("SOBREVIVEU! O buffer aceitou +" + depth + " bytes.");
                    document.body.style.backgroundColor = "#111";

                } catch (e) {
                    log("Erro JS: " + e.message);
                }
            }, 500);
        }
    </script>
</body>
</html>
