<!DOCTYPE html>
<html>
<head>
    <title>PS4 Long Range Sniper</title>
    <style>
        body { background-color: #000; color: #fff; font-family: monospace; padding: 20px; text-align: center; }
        button { 
            font-size: 20px; padding: 20px; margin: 20px; cursor: pointer; 
            width: 90%; border: 3px solid #ff0000; background: #222; color: #fff; font-weight: bold;
        }
        #log { margin-top: 20px; border: 1px solid #555; padding: 15px; color: cyan; }
    </style>
</head>
<body>

    <h1>Sniper de 4MB</h1>
    <p>Vamos ver se o sistema está lendo até o final ou cortando.</p>

    <div id="log">Pronto.</div>

    <button onclick="fireSniper()">DISPARAR: 3.5MB Safe + 1 BAD BYTE</button>

    <script>
        const BASE_OFFSET = 709522;
        const BRIDGE_SIZE = 3500000; // 3.5 MB de 0x01

        function log(msg) {
            document.getElementById('log').innerText = msg;
        }

        function fireSniper() {
            log("Gerando string massiva (pode travar a aba)...");
            
            setTimeout(() => {
                try {
                    // 1. Base
                    let buffer = "A".repeat(BASE_OFFSET);
                    
                    // 2. A Ponte Segura (3.5 MB)
                    buffer += "\x01".repeat(BRIDGE_SIZE);

                    // 3. A BOMBA FINAL
                    // Se o sistema ler isso, ele TEM que travar.
                    buffer += "AAAAA"; // 0x41

                    log("Enviando payload de ~" + (buffer.length / 1024 / 1024).toFixed(2) + " MB...");

                    // Dispara
                    history.pushState({}, "sniper_test", "/" + buffer);
                    
                    // Se chegar aqui...
                    log("SOBREVIVEU! O sistema NÃO leu o final da string.");
                    log("Diagnóstico: TRUNCAMENTO SILENCIOSO.");
                    document.body.style.backgroundColor = "#555";

                } catch (e) {
                    log("Erro JS: " + e.message);
                }
            }, 1000);
        }
    </script>
</body>
</html>
