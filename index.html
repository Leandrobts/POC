<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>PS4 12.00 Leak Hunter (Debug Mode)</title>
    
</head>
<body>

    <h1>PS4 12.00 LEAK HUNTER V2</h1>
    <p style="color: #aaa;">Use servidor HTTP (Python). Não abra direto do arquivo.</p>

    <div class="controls">
        <button id="btn_run">INICIAR FUZZER (403)</button>
        <button id="btn_stop" style="background-color: #882222;">PARAR</button>
    </div>

    <div id="log">Inicializando sistema de logs...</div>

    <script>
        window.onerror = function(message, source, lineno, colno, error) {
            var d = document.getElementById("log");
            var msg = `[ERRO CRÍTICO] ${message} <br>Arquivo: ${source} <br>Linha: ${lineno}`;
            d.innerHTML += `<div class="error-msg">${msg}</div>`;
            return false;
        };
        
        function onModuleLoaded() {
            var d = document.getElementById("log");
            d.innerHTML += `<div class="success-msg">[SISTEMA] Módulos carregados com sucesso. Pronto.</div>`;
        }
    </script>

    <script type="module">
        import { init } from './exploit.mjs';
        try {
            init();
            window.onModuleLoaded(); // Avisa que deu certo
        } catch (e) {
            console.error(e);
            throw e; // Joga para o window.onerror
        }
    </script>

</body>
</html>
