<!doctype html>
<meta charset="utf-8">
<title>PS4 BYOB gate</title>
<pre id=log></pre>
<script>
const L = (s)=>log.textContent += s + "\n";
try {
  L("ReadableStream: " + (typeof ReadableStream));
  const rs = new ReadableStream({ type: "bytes", start(c){ window._c=c; } });
  L("byte stream: OK");
  const r = rs.getReader({ mode: "byob" });
  L("getReader(byob): OK");
  L("controller.byobRequest exists? " + (!!window._c && ("byobRequest" in window._c)));
} catch(e) {
  L("FAIL: " + e.name + ": " + e.message);
}
</script>
