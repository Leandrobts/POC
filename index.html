<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>PS4 WebKit Research - 50 Vetores</title>
   
</head>
<body>
    <div id="log">Aguardando comando...</div>
    <div id="container" style="display:none"></div>

    <script>
        const log = (m) => document.getElementById('log').innerText = m;
        const container = document.getElementById('container');

        const tests = {
            // DOM & Nodes (1-10)
            t1: () => { let i = document.createElement('iframe'); document.body.appendChild(i); document.adoptNode(i); i.remove(); },
            t2: () => { let d = document.createElement('div'); d.attachShadow({mode:'open'}); d.shadowRoot.innerHTML = '<slot></slot>'; },
            t3: () => { let r = document.createRange(); r.selectNode(document.body); r.deleteContents(); },
            t4: () => { let s = document.getSelection(); s.selectAllChildren(document.body); s.collapseToEnd(); },
            t5: () => { container.innerHTML = '<a><b><c></c></b></a>'; container.querySelector('c').outerHTML = '<div></div>'; },
            t6: () => { let o = new MutationObserver(()=>{}); o.observe(document.body, {attributes:true}); document.body.setAttribute('a','b'); },
            t7: () => { let e = new CustomEvent('a'); window.dispatchEvent(e); },
            t8: () => { let n = document.createNodeIterator(document.body); n.nextNode(); n.detach(); },
            t9: () => { let t = document.createTextNode('a'); t.splitText(0); },
            t10: () => { document.implementation.createDocument(null, 'test').adoptNode(document.body); },

            // CSS & Layout (11-20)
            t11: () => { container.style.columnCount = 1000; container.style.columnGap = '1px'; },
            t12: () => { container.style.maskImage = 'linear-gradient(red, blue)'; },
            t13: () => { container.style.clipPath = 'circle(50%)'; },
            t14: () => { container.style.backdropFilter = 'blur(10px)'; },
            t15: () => { container.style.transform = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)'; },
            t16: () => { container.style.perspective = '10px'; },
            t17: () => { container.style.willChange = 'transform, opacity, contents'; },
            t18: () => { container.style.shapeOutside = 'circle(50%)'; },
            t19: () => { container.style.filter = 'url(#invalid)'; },
            t20: () => { container.style.gridTemplateAreas = '"a a" "b b"'; },

            // SVG & Graphics (21-30)
            t21: () => { container.innerHTML = '<svg><filter id="f"><feColorMatrix values="NaN"/></filter></svg>'; },
            t22: () => { container.innerHTML = '<svg><path d="M 0 0 L 1e9 1e9"/></svg>'; },
            t23: () => { container.innerHTML = '<svg><circle><animateTransform attributeName="transform" type="scale" from="1" to="2"/></circle></svg>'; },
            t24: () => { container.innerHTML = '<svg><use href="#nonexistent"/></svg>'; },
            t25: () => { container.innerHTML = '<svg><foreignObject><div></div></foreignObject></svg>'; },
            t26: () => { container.innerHTML = '<svg><linearGradient><stop offset="0" stop-color="red"/></linearGradient></svg>'; },
            t27: () => { container.innerHTML = '<svg><feGaussianBlur stdDeviation="10"/></svg>'; },
            t28: () => { container.innerHTML = '<svg><pattern><rect/></pattern></svg>'; },
            t29: () => { container.innerHTML = '<svg><marker id="m"><path/></marker></svg>'; },
            t30: () => { container.innerHTML = '<svg><feComposite in="SourceGraphic" in2="SourceGraphic" operator="arithmetic" k1="1"/></svg>'; },

            // JS Engine & Built-ins (31-40)
            t31: () => { let p = new Proxy([], { get: (t, k) => { if(k==='length') return 0xffffffff; return t[k]; } }); Array.prototype.concat.call(p); },
            t32: () => { let a = [1.1]; Object.defineProperty(a, '0', {get: () => { a.length = 0; return 2.2; }}); a.sort(); },
            t33: () => { try { (function f() { f(); })(); } catch(e) {} },
            t34: () => { new RegExp('(?=a)'.repeat(10000)); },
            t35: () => { JSON.stringify(window); },
            t36: () => { let b = new Uint8Array(10); Object.defineProperty(b, 'length', {value: 1000}); },
            t37: () => { Array.from({length: 0xffffffff}, () => 1); },
            t38: () => { "a".repeat(0x3fffffff); },
            t39: () => { new Intl.DateTimeFormat('en-US', {calendar: 'buddhist'}).format(new Date()); },
            t40: () => { Promise.all(new Array(10000).fill(Promise.resolve())); },

            // APIs & Streams (41-50)
            t41: () => { let {readable, writable} = new TransformStream(); readable.getReader().cancel(); },
            t42: () => { let b = new Blob([]); URL.createObjectURL(b); URL.revokeObjectURL('invalid'); },
            t43: () => { let c = new MessageChannel(); c.port1.postMessage('a', [c.port1]); },
            t44: () => { performance.mark('a'); performance.measure('b', 'a'); },
            t45: () => { let a = new AudioContext(); a.createBuffer(1, 1, 22050); a.close(); },
            t46: () => { indexedDB.open('test', 1).onupgradeneeded = (e) => e.target.result.createObjectStore('s'); },
            t47: () => { new AbortController().abort(); },
            t48: () => { let f = new FontFace('a', 'url(b)'); f.load().catch(()=>{}); },
            t49: () => { navigator.serviceWorker.register('invalid.js').catch(()=>{}); },
            t50: () => { requestAnimationFrame(() => { container.innerHTML = ''; }); }, 

            // DOM Reentrancy & Observers (51-60)
            t51: () => { let ro = new ResizeObserver(() => ro.disconnect()); ro.observe(document.body); },
            t52: () => { document.body.addEventListener('click', () => {}, {once: true}); document.body.click(); },
            t53: () => { let s = document.createElement('style'); s.textContent = ':empty { display: block; }'; document.head.appendChild(s); },
            t54: () => { let tw = document.createTreeWalker(document.body, NodeFilter.SHOW_ELEMENT); tw.nextNode(); tw.currentNode = null; },
            t55: () => { let d = new DocumentFragment(); d.appendChild(document.createElement('div')); d.firstChild.remove(); },
            t56: () => { let mo = new MutationObserver(() => { target.id = "a"; }); mo.observe(target, {attributes:true}); target.id = "b"; },
            t57: () => { let e = document.createEvent('MouseEvent'); e.initEvent('click', true, true); target.dispatchEvent(e); },
            t58: () => { target.innerHTML = '<details open><summary>A</summary></details>'; target.firstChild.open = false; },
            t59: () => { let i = document.createElement('input'); i.type = 'file'; i.click(); /* Interação manual pode ser necessária */ },
            t60: () => { document.createRange().setStartBefore(document.body); },

            // JS Object Transitions & Prototypes (61-70)
            t61: () => { let a = {x:1}; Object.preventExtensions(a); a.y = 2; },
            t62: () => { let a = [1, 2, 3]; Object.seal(a); a.shift(); },
            t63: () => { function F(){} F.prototype = null; new F(); },
            t64: () => { let p = Proxy.revocable({}, {}); p.revoke(); p.proxy.a = 1; },
            t65: () => { let a = new Float64Array(8); Object.defineProperty(a, '0', {get: () => 1}); },
            t66: () => { let s = new Set(); s.add(s); s.delete(s); },
            t67: () => { let m = new Map(); m.set(undefined, 1); m.get(undefined); },
            t68: () => { class C extends Array { constructor() { super(10); } } new C(); },
            t69: () => { let sym = Symbol('a'); let o = {[sym]: 1}; Object.getOwnPropertySymbols(o); },
            t70: () => { Object.setPrototypeOf(Array.prototype, null); },

            // CSS & Rendering Edge Cases (71-80)
            t71: () => { target.style.writingMode = 'vertical-rl'; target.style.textCombineUpright = 'all'; },
            t72: () => { target.style.fontVariantCaps = 'small-caps'; target.innerHTML = 'abc'; },
            t73: () => { target.style.grid = 'repeat(auto-fill, minmax(10px, 1fr)) / 1fr'; },
            t74: () => { target.style.shapeOutside = 'inset(10% round 10% 40% 10% 40%)'; },
            t75: () => { target.style.clipPath = 'polygon(0% 0%, 100% 0%, 50% 100%)'; },
            t76: () => { target.style.mixBlendMode = 'difference'; },
            t77: () => { target.style.hyphens = 'auto'; target.lang = 'en'; },
            t78: () => { target.style.offsetPath = 'path("M 0 0 L 100 100")'; },
            t79: () => { target.style.paintOrder = 'markers stroke fill'; },
            t80: () => { target.style.outline = '5px auto red'; },

            // TypedArrays & DataView (81-90)
            t81: () => { let b = new ArrayBuffer(16); let d = new DataView(b); d.setUint32(0, 0x12345678, true); },
            t82: () => { let b = new ArrayBuffer(8); let f = new Float64Array(b); f[0] = NaN; },
            t83: () => { let a = new Uint8ClampedArray(4); a[0] = 300; },
            t84: () => { let b = new ArrayBuffer(1024); b.slice(0, 512); },
            t85: () => { let a = new BigInt64Array(2); a[0] = 1n; },
            t86: () => { let b = new ArrayBuffer(8); new Int32Array(b, 4, 1); },
            t87: () => { let b = new ArrayBuffer(8); let a = new Int8Array(b); a.set([1,2], 7); },
            t88: () => { let d = new DataView(new ArrayBuffer(8)); d.getFloat32(0, true); },
            t89: () => { let a = new Uint32Array(2); a.fill(0xffffffff); },
            t90: () => { let a = new Int16Array(10); a.copyWithin(0, 5); },

            // Web APIs & Misc (91-100)
            t91: () => { let bc = new BroadcastChannel('a'); bc.postMessage('b'); bc.close(); },
            t92: () => { let c = new CacheStorage(); c.keys(); },
            t93: () => { navigator.geolocation.getCurrentPosition(()=>{}, ()=>{}); },
            t94: () => { let v = document.createElement('video'); v.src = 'data:video/mp4,0'; v.load(); },
            t95: () => { let a = new AudioContext(); let p = a.createPanner(); p.setPosition(0,0,0); },
            t96: () => { let r = new ReadableStream({start(c){c.enqueue('a');}}); r.getReader().read(); },
            t97: () => { let w = new WritableStream(); let wr = w.getWriter(); wr.write('a'); wr.releaseLock(); },
            t98: () => { history.pushState({a:1}, '', '#test'); history.back(); },
            t99: () => { let u = new URL('http://a'); u.searchParams.append('b', 'c'); },
            t100: () => { let p = new Path2D(); p.addPath(new Path2D()); },

            t101: () => { new Intl.NumberFormat('ar-EG', {style:'currency', currency:'EGP'}).format(123); },
            t102: () => { new Intl.PluralRules('en-US').select(0); },
            t103: () => { 'a'.normalize('NFKD'); },
            t104: () => { new Intl.RelativeTimeFormat('pt-BR').format(-1, 'day'); },
            t105: () => { new Intl.ListFormat('en-GB').format(['a', 'b']); },
            t106: () => { '??'.codePointAt(0); },
            t107: () => { String.fromCodePoint(0x1F600); },
            t108: () => { new TextEncoder().encode('abc'); },
            t109: () => { new TextDecoder('utf-16').decode(new Uint8Array([0xff, 0xfe, 0x41, 0x00])); },
            t110: () => { new Intl.Segmenter('zh', {granularity: 'word'}).segment('??'); },

            // WebAudio & Media Lifecycle (111-120)
            t111: () => { let a = new AudioContext(); let g = a.createGain(); g.gain.setValueAtTime(0, a.currentTime); a.close(); },
            t112: () => { let a = new AudioContext(); let s = a.createBufferSource(); s.buffer = a.createBuffer(1, 1, 22050); s.start(); },
            t113: () => { let v = document.createElement('video'); v.captureStream(); },
            t114: () => { let a = new AudioContext(); a.suspend(); a.resume(); },
            t115: () => { let a = new AudioContext(); let d = a.createDelay(1.0); d.delayTime.value = 0.5; },
            t116: () => { let a = new AudioContext(); let b = a.createBiquadFilter(); b.type = 'lowpass'; },
            t117: () => { let a = new AudioContext(); let c = a.createConvolver(); c.normalize = true; },
            t118: () => { let a = new AudioContext(); let p = a.createPeriodicWave(new Float32Array([0,1]), new Float32Array([0,0])); },
            t119: () => { let a = new AudioContext(); let n = a.createAnalyser(); n.getByteTimeDomainData(new Uint8Array(10)); },
            t120: () => { let a = new AudioContext(); let s = a.createScriptProcessor(4096, 1, 1); s.onaudioprocess = () => {}; },

            // Advanced DOM & Shadow DOM (121-130)
            t121: () => { scratch.innerHTML = '<template id="t"><div></div></template>'; scratch.firstChild.content.cloneNode(true); },
            t122: () => { let d = document.createElement('div'); d.attachShadow({mode:'closed'}); },
            t123: () => { let s = document.createElement('slot'); s.assignedNodes(); },
            t124: () => { document.createNodeIterator(document, NodeFilter.SHOW_COMMENT).nextNode(); },
            t125: () => { document.createRange().compareBoundaryPoints(Range.START_TO_END, document.createRange()); },
            t126: () => { let i = document.createElement('img'); i.srcset = 'a.jpg 1x, b.jpg 2x'; },
            t127: () => { let f = document.createElement('form'); f.requestSubmit(); },
            t128: () => { let i = document.createElement('input'); i.setSelectionRange(0, 10); },
            t129: () => { let d = document.createElement('dialog'); d.showModal(); d.close(); },
            t130: () => { document.styleSheets[0].insertRule('body { color: red; }', 0); },

            // CSS Variables & Animations (131-140)
            t131: () => { scratch.style.setProperty('--a', 'red'); scratch.style.getPropertyValue('--a'); },
            t132: () => { scratch.animate([{opacity: 0}, {opacity: 1}], 100); },
            t133: () => { scratch.getAnimations(); },
            t134: () => { scratch.style.transition = 'opacity 1s'; scratch.style.opacity = '0.5'; },
            t135: () => { scratch.style.content = 'counter(a)'; },
            t136: () => { scratch.style.clipPath = 'inset(10% 20% 30% 40%)'; },
            t137: () => { scratch.style.imageRendering = 'pixelated'; },
            t138: () => { scratch.style.scrollBehavior = 'smooth'; window.scrollTo(0, 1); },
            t139: () => { scratch.style.userSelect = 'none'; },
            t140: () => { scratch.style.touchAction = 'manipulation'; },

            // Streams, Blobs & Logic (141-150)
            t141: () => { new ReadableStream().getReader().closed.catch(()=>{}); },
            t142: () => { let b = new Blob(['a'], {type: 'text/plain'}); b.arrayBuffer(); },
            t143: () => { let b = new Blob(['a']); b.slice(0, 1, 'text/html'); },
            t144: () => { let u = new URLSearchParams('a=1&b=2'); u.sort(); },
            t145: () => { let u = new URL('http://a'); u.password = '123'; },
            t146: () => { let f = new FormData(); f.append('a', new Blob([]), 'b.txt'); },
            t147: () => { let h = new Headers(); h.append('Set-Cookie', 'a=1'); },
            t148: () => { let r = new Request('http://a', {method: 'POST', body: 'a'}); r.clone(); },
            t149: () => { fetch('data:text/plain,a').then(r => r.blob()); },
            t150: () => { let c = new MessageChannel(); c.port1.onmessage = () => {}; c.port2.postMessage('a'); },
// Reentrancy & Lifecycle (151-160)
            t151: () => { let a = document.createElement('audio'); a.oncanplay = () => a.remove(); a.src = 'data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA='; },
            t152: () => { let i = document.createElement('iframe'); i.onload = () => i.src = 'about:blank'; document.body.appendChild(i); },
            t153: () => { let r = new ResizeObserver(() => { box.style.width = '10px'; }); r.observe(box); box.style.display = 'block'; },
            t154: () => { window.onbeforeunload = () => { while(1); }; location.hash = 'a'; },
            t155: () => { let m = new MutationObserver(() => { document.write('a'); }); m.observe(document.body, {childList:true}); document.body.appendChild(document.createElement('div')); },
            t156: () => { let s = document.createElement('slot'); s.onslotchange = () => s.name = 'a'; box.appendChild(s); },
            t157: () => { let i = new IntersectionObserver((e) => { e[0].target.remove(); }); i.observe(box); box.style.display = 'block'; },
            t158: () => { document.body.onscroll = () => { document.body.innerHTML = ''; }; window.scrollTo(0, 100); },
            t159: () => { let w = new Worker(URL.createObjectURL(new Blob(['']))); w.terminate(); w.postMessage('a'); },
            t160: () => { let p = document.createElement('p'); p.addEventListener('DOMNodeInserted', () => { p.remove(); }); document.body.appendChild(p); },

            // JS Engine & Object Transitions (161-170)
            t161: () => { let a = [1.1]; a.length = 0x1000; a.fill(2.2); Object.seal(a); },
            t162: () => { let p = new Proxy({}, { getOwnPropertyDescriptor: () => { return {configurable: true, enumerable: true}; } }); Object.getOwnPropertyDescriptor(p, 'a'); },
            t163: () => { let o = {}; for(let i=0; i<1000; i++) o['p'+i] = i; Object.preventExtensions(o); },
            t164: () => { let e = new Error(); Object.defineProperty(e, 'stack', {get: () => { return e.stack; }}); let s = e.stack; },
            t165: () => { let a = new Uint32Array(10); Object.setPrototypeOf(a, Array.prototype); a.push(1); },
            t166: () => { let f = function(){}; f.prototype = { constructor: f }; new f(); },
            t167: () => { let m = new Map(); m.set(m, m); m.clear(); },
            t168: () => { let s = new Set([NaN, NaN, NaN]); s.forEach(v => s.delete(v)); },
            t169: () => { let b = new ArrayBuffer(8); let t = new Int32Array(b); Object.defineProperty(t, 'buffer', {get: () => null}); },
            t170: () => { let o = { get a() { delete this.a; return 1; } }; o.a; },

            // CSS & Rendering (171-180)
            t171: () => { box.style.gridTemplateColumns = 'repeat(1000, calc(10% + 1px))'; },
            t172: () => { box.style.filter = 'drop-shadow(0 0 0 red)'.repeat(100); },
            t173: () => { box.style.clipPath = 'path("M 0 0 L 1 1 Z")'; },
            t174: () => { box.style.mask = 'url(#nonexistent) luminance'; },
            t175: () => { box.style.backgroundImage = 'linear-gradient(to right, red, blue)'.repeat(10); },
            t176: () => { box.style.shapeOutside = 'polygon(0 0, 100% 0, 50% 100%)'; },
            t177: () => { box.style.transform = 'skew(45deg) rotate(45deg) scale(1.5)'; },
            t178: () => { box.style.content = 'url("data:image/svg+xml,<svg xmlns=\'http://www.w3.org/2000/svg\'></svg>")'; },
            t179: () => { box.style.columnRule = '100vw solid red'; },
            t180: () => { box.style.perspectiveOrigin = 'calc(50% + 10px) calc(50% - 10px)'; },

            // WebAudio & Streams (181-190)
            t181: () => { let c = new OfflineAudioContext(1, 44100, 44100); c.startRendering(); c.suspend(0); },
            t182: () => { let a = new AudioContext(); let s = a.createBufferSource(); s.onended = () => a.close(); s.start(); },
            t183: () => { let r = new ReadableStream({ start(c) { c.error('err'); } }); r.getReader().read().catch(()=>{}); },
            t184: () => { let {readable, writable} = new TransformStream(); readable.pipeTo(writable); },
            t185: () => { let a = new AudioContext(); let m = a.createMediaStreamDestination(); m.stream.getTracks()[0].stop(); },
            t186: () => { let a = new AudioContext(); let w = a.createWaveShaper(); w.curve = new Float32Array(2); },
            t187: () => { let a = new AudioContext(); let d = a.createDynamicsCompressor(); d.release.value = 0; },
            t188: () => { let a = new AudioContext(); let o = a.createOscillator(); o.setPeriodicWave(a.createPeriodicWave(new Float32Array([0,1]), new Float32Array([0,0]))); },
            t189: () => { let b = new Blob(['a']); b.stream().getReader().read(); },
            t190: () => { let a = new AudioContext(); a.decodeAudioData(new ArrayBuffer(0), ()=>{}, ()=>{}); },

            // Misc & Logic (191-200)
            t191: () => { let p = new MessagePort(); p.postMessage('a', [p]); },
            t192: () => { let u = new URL('http://a'); u.hostname = '..'; },
            t193: () => { let s = new AbortController(); s.abort(); s.signal.addEventListener('abort', () => {}); },
            t194: () => { performance.clearMeasures(); performance.measure('a'); },
            t195: () => { let f = new FontFace('a', new ArrayBuffer(10)); f.load().catch(()=>{}); },
            t196: () => { let c = new MessageChannel(); c.port1.close(); c.port1.postMessage('a'); },
            t197: () => { indexedDB.deleteDatabase('test'); },
            t198: () => { requestIdleCallback(() => { document.body.innerHTML = ''; }); },
            t199: () => { let b = new Blob([]); b.slice(0, -1); },
            t200: () => { document.execCommand('selectAll', false, null); document.execCommand('cut', false, null); },

// DOM Reentrancy & Shadow Tree (201-210)
            t201: () => { let d = document.createElement('div'); d.attachShadow({mode:'open'}).innerHTML = '<slot name="a"></slot>'; d.onslotchange = () => d.remove(); d.innerHTML = '<b slot="a"></b>'; },
            t202: () => { let i = document.createElement('iframe'); i.srcdoc = '<a></a>'; i.onload = () => { document.adoptNode(i.contentDocument.firstChild); i.remove(); }; document.body.appendChild(i); },
            t203: () => { let m = new MutationObserver(() => { stage.innerHTML = ''; }); m.observe(stage, {attributes: true}); stage.setAttribute('a', 'b'); stage.setAttribute('c', 'd'); },
            t204: () => { let r = document.createRange(); r.setStart(document.body, 0); r.setEnd(document.body, 1); r.extractContents(); },
            t205: () => { let n = document.createNodeIterator(document.body, NodeFilter.SHOW_ELEMENT, () => { stage.innerHTML = ''; return NodeFilter.FILTER_ACCEPT; }); n.nextNode(); },
            t206: () => { let s = document.createElement('style'); s.textContent = '* { all: initial; }'; document.head.appendChild(s); s.sheet.disabled = true; },
            t207: () => { let d = document.createElement('div'); d.addEventListener('DOMSubtreeModified', () => { d.innerHTML = ''; }); d.appendChild(document.createElement('p')); },
            t208: () => { let i = document.createElement('img'); i.onabort = () => i.src = ''; i.src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg=='; i.removeAttribute('src'); },
            t209: () => { let t = document.createElement('textarea'); t.oninput = () => t.value = ''; t.value = 'a'; },
            t210: () => { let o = document.createElement('object'); o.data = 'about:blank'; o.onload = () => o.data = ''; },

            // JS Engine & Proxy Traps (211-220)
            t211: () => { let p = new Proxy([], { get: (t, k) => { if (k === 'length') { t.length = 0; return 100; } return t[k]; } }); Array.prototype.pop.call(p); },
            t212: () => { let a = [1.1, 2.2]; Object.defineProperty(a, '0', { get: () => { a.length = 0; return 3.3; } }); a.reverse(); },
            t213: () => { let p = new Proxy({}, { has: () => { stage.innerHTML = ''; return true; } }); 'a' in p; },
            t214: () => { let a = new Uint32Array(10); Object.defineProperty(a, 'byteLength', { get: () => 0xffffffff }); },
            t215: () => { let f = function(){}; Object.defineProperty(f, 'caller', { get: () => f }); f.caller; },
            t216: () => { let s = new Set(); let p = new Proxy(s, { get: (t, k) => t[k].bind(t) }); p.add(p); },
            t217: () => { let b = new ArrayBuffer(8); let d = new DataView(b); Object.defineProperty(b, 'byteLength', { value: 0 }); d.getUint32(0); },
            t218: () => { let o = { [Symbol.toPrimitive]: () => { stage.innerHTML = ''; return 1; } }; 1 + o; },
            t219: () => { let a = []; a[0xffffffff] = 1; a.sort(); },
            t220: () => { let p = new Proxy(function(){}, { construct: () => { return p; } }); new p(); },

            // CSS Layout & Rendering (221-230)
            t221: () => { stage.style.display = 'grid'; stage.style.gridTemplateColumns = 'repeat(auto-fit, minmax(calc(100% + 1px), 1fr))'; },
            t222: () => { stage.style.maskImage = 'radial-gradient(circle, red, transparent)'.repeat(50); },
            t223: () => { stage.style.clipPath = 'url("#nonexistent")'.repeat(20); },
            t224: () => { stage.style.filter = 'contrast(200%) brightness(150%) blur(5px)'.repeat(10); },
            t225: () => { stage.style.transform = 'rotate3d(1, 1, 1, 45deg) translateZ(100px)'; },
            t226: () => { stage.style.columnCount = '2'; stage.style.columnSpan = 'all'; },
            t227: () => { stage.style.shapeOutside = 'inset(10% round 10% 20% 30% 40%)'; },
            t228: () => { stage.style.perspective = 'calc(10px + 1vw)'; stage.style.perspectiveOrigin = 'top left'; },
            t229: () => { stage.style.backdropFilter = 'invert(100%)'; stage.style.webkitBackdropFilter = 'invert(100%)'; },
            t230: () => { stage.style.content = 'counter(a, upper-roman)'; stage.style.counterReset = 'a 100'; },

            // WebAudio & Media (231-240)
            t231: () => { let a = new AudioContext(); let g = a.createGain(); g.connect(a.destination); a.close().then(() => g.disconnect()); },
            t232: () => { let a = new AudioContext(); let s = a.createBufferSource(); s.buffer = a.createBuffer(1, 128, 44100); s.loop = true; s.start(); a.suspend(); },
            t233: () => { let a = new AudioContext(); let w = a.createWaveShaper(); w.curve = new Float32Array([1, -1]); w.connect(a.destination); },
            t234: () => { let a = new AudioContext(); let p = a.createPanner(); p.panningModel = 'HRTF'; p.setPosition(NaN, 0, 0); },
            t235: () => { let a = new AudioContext(); let o = a.createOscillator(); o.type = 'custom'; o.setPeriodicWave(a.createPeriodicWave(new Float32Array(2), new Float32Array(2))); },
            t236: () => { let a = new AudioContext(); let d = a.createDelay(1); d.delayTime.setValueAtTime(0.5, 0); a.close(); },
            t237: () => { let v = document.createElement('video'); v.src = 'data:video/mp4;base64,AAA'; v.onerror = () => v.remove(); },
            t238: () => { let a = new AudioContext(); let n = a.createAnalyser(); n.getFloatFrequencyData(new Float32Array(0)); },
            t239: () => { let a = new AudioContext(); let c = a.createConvolver(); c.buffer = null; },
            t240: () => { let a = new AudioContext(); let s = a.createScriptProcessor(256, 1, 1); s.onaudioprocess = () => a.close(); },

            // SVG & Logic (241-250)
            t241: () => { stage.innerHTML = '<svg><filter id="f"><feGaussianBlur stdDeviation="10"/></filter><rect filter="url(#f)"/></svg>'; stage.innerHTML = ''; },
            t242: () => { stage.innerHTML = '<svg><path id="p" d="M0 0 L10 10"/><use href="#p" transform="matrix(1,0,0,1,0,0)"/></svg>'; },
            t243: () => { stage.innerHTML = '<svg><circle><animate attributeName="r" from="0" to="100" dur="1s" repeatCount="indefinite"/></circle></svg>'; },
            t244: () => { stage.innerHTML = '<svg><foreignObject><body xmlns="http://www.w3.org/1999/xhtml"><div style="height:10000px"></div></body></foreignObject></svg>'; },
            t245: () => { stage.innerHTML = '<svg><defs><linearGradient id="g"><stop offset="0" stop-color="red"/></linearGradient></defs><rect fill="url(#g)"/></svg>'; },
            t246: () => { let b = new Blob([''], {type: 'text/html'}); let u = URL.createObjectURL(b); let i = document.createElement('iframe'); i.src = u; document.body.appendChild(i); URL.revokeObjectURL(u); },
            t247: () => { let c = new MessageChannel(); c.port1.onmessage = () => { c.port1.close(); }; c.port2.postMessage('a'); },
            t248: () => { let r = new ReadableStream({ start(c) { c.enqueue('a'); c.close(); } }); r.getReader().read(); },
            t249: () => { let h = new Headers(); h.append('a', 'b'); for(let p of h) h.delete('a'); },
            t250: () => { let u = new URL('http://a'); u.searchParams.forEach((v, k) => u.searchParams.delete(k)); },
// DOM Cross-Document & Adoption (251-260)
            t251: () => { let doc = document.implementation.createHTMLDocument(); doc.adoptNode(document.body); },
            t252: () => { let i = document.createElement('iframe'); document.body.appendChild(i); i.contentWindow.onunload = () => { let a = i.contentDocument.createElement('div'); }; i.remove(); },
            t253: () => { let d = document.createElement('div'); d.attachShadow({mode:'open'}); d.shadowRoot.append(document.createElement('slot')); d.onbeforecopy = () => d.remove(); document.execCommand('copy'); },
            t254: () => { let r = document.createRange(); r.selectNodeContents(document.body); r.collapse(true); r.insertNode(document.createTextNode('a')); },
            t255: () => { let n = document.createNodeIterator(document, 0xFFFFFFFF); n.nextNode(); },
            t256: () => { let s = document.createElement('style'); s.innerHTML = '@import "data:text/css,";'; document.head.append(s); s.remove(); },
            t257: () => { let d = document.createElement('div'); d.contentEditable = true; d.onfocus = () => d.innerHTML = ''; d.focus(); },
            t258: () => { let i = document.createElement('img'); i.src = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" onload="parent.env.innerHTML=\'\'"></svg>'; },
            t259: () => { let t = document.getSelection(); t.setBaseAndExtent(document.body, 0, document.body, 1); t.deleteFromDocument(); },
            t260: () => { let p = document.createElement('p'); p.addEventListener('DOMCharacterDataModified', () => p.remove()); p.innerText = 'a'; p.firstChild.data = 'b'; },

            // JSC Internals & Prototype Pollution (261-270)
            t261: () => { Object.defineProperty(Array.prototype, 'push', {get: () => { Array.prototype.length = 0; return () => {}; }}); [].push(1); },
            t262: () => { let a = [1.1]; Object.defineProperty(a, 'length', {writable: false}); try { a.shift(); } catch(e){} },
            t263: () => { let p = new Proxy({}, { get: (t, k) => { if (k === Symbol.toPrimitive) return () => 1; return t[k]; } }); 1 + p; },
            t264: () => { let b = new Uint8Array(8); Object.defineProperty(b, 'buffer', {get: () => { return new ArrayBuffer(0); }}); },
            t265: () => { function f(){} f.prototype = Array.prototype; let obj = new f(); obj.push(1); },
            t266: () => { let m = new Map(); m.set(m, 1); m.forEach((v, k) => m.delete(k)); },
            t267: () => { let s = new Set([1]); let i = s.values(); s.clear(); i.next(); },
            t268: () => { let o = { get [Symbol.toStringTag]() { return { a: 1 }; } }; Object.prototype.toString.call(o); },
            t269: () => { let a = new Int32Array(10); a.subarray(0, 20); },
            t270: () => { let p = Proxy.revocable([], {}); p.revoke(); Array.prototype.concat.call(p.proxy); },

            // CSS & Layout Edge Cases (271-280)
            t271: () => { env.style.display = 'flex'; env.style.flexBasis = 'calc(100% / 0)'; },
            t272: () => { env.style.clipPath = 'circle(at NaN% NaN%)'; },
            t273: () => { env.style.maskComposite = 'source-over, destination-out'; },
            t274: () => { env.style.transform = 'matrix(1, 2, 3, 4, 5, 6)'.repeat(10); },
            t275: () => { env.style.filter = 'drop-shadow(10px 10px 10px red) blur(10px)'; },
            t276: () => { env.style.columnCount = 0x7FFFFFFF; },
            t277: () => { env.style.gridTemplateRows = 'repeat(100, [a] 1fr [b])'; },
            t278: () => { env.style.shapeMargin = 'calc(10px + 10%)'; },
            t279: () => { env.style.webkitTextStroke = '10px red'; },
            t280: () => { env.style.content = 'url("invalid")'; env.style.counterIncrement = 'a 1'; },

            // WebAudio & Race Conditions (281-290)
            t281: () => { let a = new OfflineAudioContext(1, 1, 44100); a.startRendering(); a.oncomplete = () => a.suspend(); },
            t282: () => { let a = new AudioContext(); let s = a.createBufferSource(); s.buffer = a.createBuffer(1, 1, 22050); a.close(); s.start(); },
            t283: () => { let a = new AudioContext(); let g = a.createGain(); g.gain.exponentialRampToValueAtTime(0.001, 1); a.close(); },
            t284: () => { let a = new AudioContext(); let p = a.createPanner(); p.coneOuterGain = -1; },
            t285: () => { let a = new AudioContext(); let d = a.createDelay(); d.delayTime.value = NaN; },
            t286: () => { let a = new AudioContext(); let w = a.createWaveShaper(); w.curve = new Float32Array(0); },
            t287: () => { let a = new AudioContext(); let o = a.createOscillator(); o.frequency.value = 1e30; o.start(); },
            t288: () => { let a = new AudioContext(); let c = a.createConvolver(); c.buffer = a.createBuffer(1, 1, 22050); c.buffer = null; },
            t289: () => { let a = new AudioContext(); let m = a.createMediaStreamDestination(); a.close(); m.stream.getAudioTracks(); },
            t290: () => { let a = new AudioContext(); let n = a.createAnalyser(); n.fftSize = 32; n.getByteFrequencyData(new Uint8Array(100)); },

            // Misc APIs & Logic (291-300)
            t291: () => { let c = new MessageChannel(); c.port1.postMessage(new ArrayBuffer(8), [new ArrayBuffer(8)]); },
            t292: () => { let u = new URL('http://a'); u.pathname = '/'.repeat(1000); u.search = 'a=b'; },
            t293: () => { let b = new Blob([new Uint8Array(10)]); b.slice(0, 100).arrayBuffer(); },
            t294: () => { let h = new Headers(); h.set('content-type', 'a'.repeat(1000)); },
            t295: () => { let r = new Request('http://a', {headers: {'a': 'b'}}); r.headers.delete('a'); },
            t296: () => { let f = new FontFace('a', 'local("a")'); f.load().catch(()=>{}); },
            t297: () => { let s = new ReadableStream({pull(c){c.close();}}); s.getReader().read(); },
            t298: () => { performance.mark('a'); performance.clearMarks('a'); performance.measure('b', 'a'); },
            t299: () => { let u = new URLSearchParams(); u.append('a', 'b'); u.set('a', 'c'); },
            t300: () => { let p = new Path2D(); p.arc(0, 0, 10, 0, Math.PI*2); p.closePath(); },
 // DOM Reentrancy & Mutation (301-310)
            t302: () => { let i = document.createElement('iframe'); i.srcdoc = '<script>window.onunload=()=>top.log("Race");</' + 'script>'; document.body.appendChild(i); i.remove(); },
            t303: () => { let d = document.createElement('div'); d.attachShadow({mode:'open'}); d.shadowRoot.innerHTML = '<slot></slot>'; d.firstChild.onbeforecopy = () => d.remove(); },
            t304: () => { let r = document.createRange(); r.setStart(document.body, 0); document.body.innerHTML = ''; r.cloneContents(); },
            t305: () => { let n = document.createNodeIterator(document, NodeFilter.SHOW_ALL); document.body.innerHTML = ''; n.nextNode(); },
            t306: () => { let s = document.createElement('select'); s.onchange = () => s.options.length = 0; s.appendChild(new Option('a','b')); s.selectedIndex = 0; },
            t307: () => { let t = document.createElement('table'); t.insertRow(0); t.rows[0].onmouseover = () => t.deleteRow(0); },
            t308: () => { let i = document.createElement('img'); i.onerror = () => document.adoptNode(i); i.src = 'invalid://'; },
            t309: () => { let f = document.createElement('form'); f.onreset = () => f.remove(); f.reset(); },
            t310: () => { let d = document.createElement('div'); d.contentEditable = true; d.oninput = () => d.ownerDocument.designMode = 'off'; d.innerText = 'a'; },

            // JSC & Object Logic (311-320)
            t311: () => { let p = new Proxy([], { deleteProperty: (t, k) => { t.length = 0; return true; } }); Array.prototype.splice.call(p, 0, 1); },
            t312: () => { let a = [1.1, 2.2]; Object.defineProperty(a, '0', { get: () => { a.length = 0; return 3.3; } }); a.sort(); },
            t313: () => { let o = { get length() { delete this.length; return 0xFFFFFFFF; } }; Array.prototype.join.call(o); },
            t314: () => { let b = new Uint32Array(10); Object.defineProperty(b, 'buffer', { get: () => null }); b.set([1]); },
            t315: () => { function f() { f.caller; } f(); },
            t316: () => { let s = new Set(); s.add(s); s.has(s); s.clear(); },
            t317: () => { let m = new Map(); m.set(undefined, undefined); m.delete(undefined); },
            t318: () => { let p = Proxy.revocable({}, {}); p.revoke(); Object.keys(p.proxy); },
            t319: () => { let a = new Float64Array(8); Object.setPrototypeOf(a, {}); a.filter(() => true); },
            t320: () => { let o = {}; Object.defineProperty(o, 'a', { value: 1, writable: false }); Object.defineProperty(o, 'a', { value: 2 }); },

            // CSS & Rendering Engine (321-330)
            t321: () => { sandbox.style.width = 'calc(1px / 0)'; sandbox.style.height = 'calc(1px * infinity)'; },
            t322: () => { sandbox.style.gridTemplateColumns = 'repeat(100, minmax(0, 1fr))'; },
            t323: () => { sandbox.style.clipPath = 'inset(0 0 0 0 round 100%)'; },
            t324: () => { sandbox.style.filter = 'url(#f)'.repeat(50); },
            t325: () => { sandbox.style.transform = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0)'; },
            t326: () => { sandbox.style.maskImage = 'linear-gradient(white, black)'; sandbox.style.maskSize = '0 0'; },
            t327: () => { sandbox.style.shapeOutside = 'circle(at 50% 50%)'; sandbox.style.float = 'left'; },
            t328: () => { sandbox.style.perspective = '1px'; sandbox.style.transformStyle = 'preserve-3d'; },
            t329: () => { sandbox.style.content = 'attr(data-test)'; sandbox.setAttribute('data-test', 'a'.repeat(1000)); },
            t330: () => { sandbox.style.columnGap = 'calc(10% - 10px)'; sandbox.style.columnCount = '2'; },

            // WebAudio & Race Conditions (331-340)
            t331: () => { let a = new AudioContext(); let b = new ArrayBuffer(1024); a.decodeAudioData(b, ()=>{}, ()=>{}); },
            t332: () => { let a = new AudioContext(); let s = a.createBufferSource(); s.onended = () => a.close(); s.start(); s.stop(); },
            t333: () => { let a = new AudioContext(); let g = a.createGain(); g.connect(a.destination); g.disconnect(); a.close(); },
            t334: () => { let a = new AudioContext(); let p = a.createPanner(); p.panningModel = 'equalpower'; p.setPosition(0,0,0); },
            t335: () => { let a = new AudioContext(); let d = a.createDelay(); d.delayTime.value = 0.5; a.suspend(); },
            t336: () => { let a = new AudioContext(); let w = a.createWaveShaper(); w.curve = new Float32Array(2); },
            t337: () => { let a = new AudioContext(); let o = a.createOscillator(); o.setPeriodicWave(a.createPeriodicWave(new Float32Array(2), new Float32Array(2))); },
            t338: () => { let a = new AudioContext(); let c = a.createConvolver(); c.buffer = a.createBuffer(1, 1, 22050); },
            t339: () => { let a = new AudioContext(); let n = a.createAnalyser(); n.getByteTimeDomainData(new Uint8Array(0)); },
            t340: () => { let a = new AudioContext(); a.createConstantSource().offset.value = 1; a.close(); },

            // Misc APIs & Logic (341-350)
            t341: () => { new Intl.RelativeTimeFormat('en').format(1e308, 'day'); },
            t342: () => { let b = new Blob(['a']); b.slice(0, 1, 'text/plain').arrayBuffer(); },
            t343: () => { let u = new URL('http://a'); u.searchParams.append('a'.repeat(1000), 'b'); },
            t344: () => { let h = new Headers(); h.append('a', 'b'); for(let [k,v] of h) h.delete(k); },
            t345: () => { let r = new Request('http://a', {method:'POST', body:'a'}); r.clone(); },
            t346: () => { let f = new FontFace('a', 'url(b)'); f.load().catch(()=>{}); },
            t347: () => { let c = new MessageChannel(); c.port1.postMessage('a', [c.port2]); c.port1.close(); },
            t348: () => { performance.mark('a'); performance.measure('b', 'a', 'a'); },
            t349: () => { let s = new ReadableStream({start(c){c.enqueue('a');}}); s.getReader().read(); },
            t350: () => { let u = new URLSearchParams('a=b'); u.forEach((v,k)=>u.delete(k)); },
// Custom Elements & Shadow DOM (351-360)
            t351: () => { customElements.define('x-a', class extends HTMLElement { connectedCallback() { this.remove(); } }); document.body.appendChild(document.createElement('x-a')); },
            t352: () => { let d = document.createElement('div'); d.attachShadow({mode:'open'}).innerHTML = '<slot></slot>'; d.onbeforeload = () => d.shadowRoot.innerHTML = ''; },
            t353: () => { let i = document.createElement('iframe'); i.srcdoc = '<div id="d"></div>'; i.onload = () => { document.adoptNode(i.contentDocument.getElementById('d')); i.remove(); }; document.body.appendChild(i); },
            t354: () => { let s = document.createElement('slot'); s.assign(document.createElement('div')); s.assignedElements({flatten: true}); },
            t355: () => { let r = document.createRange(); r.selectNode(document.body); r.deleteContents(); r.insertNode(document.createElement('div')); },
            t356: () => { let n = document.createNodeIterator(document, NodeFilter.SHOW_ELEMENT); n.nextNode(); document.body.innerHTML = ''; n.previousNode(); },
            t357: () => { let t = document.createElement('template'); t.innerHTML = '<div></div>'; let c = t.content; c.firstChild.remove(); c.appendChild(document.createElement('p')); },
            t358: () => { let d = document.createElement('div'); d.attachShadow({mode:'closed'}); Object.defineProperty(d, 'shadowRoot', {get: () => d}); },
            t359: () => { let i = document.createElement('img'); i.onmouseenter = () => i.src = ''; i.dispatchEvent(new MouseEvent('mouseenter')); },
            t360: () => { let f = document.createElement('fieldset'); f.disabled = true; f.appendChild(document.createElement('input')).focus(); },

            // JSC Internals & Prototype Hijacking (361-370)
            t361: () => { let p = new Proxy({}, { get: (t, k) => { if(k === 'toString') return () => { throw 1; }; return t[k]; } }); try { String(p); } catch(e){} },
            t362: () => { let a = [1.1]; Object.defineProperty(a, '0', {set: (v) => { a.length = 0; }}); a.push(2.2); },
            t363: () => { let b = new Uint8Array(10); Object.defineProperty(b, 'byteOffset', {get: () => 0xffffffff}); b.subarray(1); },
            t364: () => { let o = { __proto__: null }; Object.setPrototypeOf(o, Proxy.prototype); },
            t365: () => { let s = new Set(); s.add(s); s.forEach((v) => s.delete(v)); },
            t366: () => { let m = new Map(); m.set(m, m); m.get(m); m.clear(); },
            t367: () => { let p = Proxy.revocable([], {}); p.revoke(); try { p.proxy.length; } catch(e){} },
            t368: () => { let a = new Float32Array(4); Object.defineProperty(a, 'buffer', {get: () => null}); },
            t369: () => { function f(){ f.arguments; } f(); },
            t370: () => { let o = { [Symbol.toPrimitive]: () => { return {}; } }; try { 1 + o; } catch(e){} },

            // CSS Layout & Rasterization (371-380)
            t371: () => { view.style.display = 'grid'; view.style.gridTemplate = 'repeat(100, 1fr) / repeat(100, 1fr)'; },
            t372: () => { view.style.clipPath = 'path("M 0 0 L 1e30 1e30")'; },
            t373: () => { view.style.filter = 'drop-shadow(0 0 10px red)'.repeat(20); },
            t374: () => { view.style.mask = 'radial-gradient(circle, white, black)'; view.style.maskSize = '10% 10%'; },
            t375: () => { view.style.transform = 'rotateY(90deg) translateZ(1px)'; },
            t376: () => { view.style.columnCount = '2'; view.style.columnFill = 'auto'; view.style.height = '10px'; },
            t377: () => { view.style.shapeOutside = 'ellipse(50% 50% at 50% 50%)'; view.style.float = 'right'; },
            t378: () => { view.style.perspective = 'calc(1px - 1px)'; },
            t379: () => { view.style.content = 'url("data:image/svg+xml,<svg xmlns=\'http://www.w3.org/2000/svg\'></svg>")'; },
            t380: () => { view.style.backdropFilter = 'blur(NaNpx)'; },

            // WebAudio & Buffer Race (381-390)
            t381: () => { let a = new AudioContext(); let s = a.createBufferSource(); s.buffer = a.createBuffer(1, 1, 22050); a.close(); s.start(); },
            t382: () => { let a = new AudioContext(); let g = a.createGain(); g.gain.setValueCurveAtTime(new Float32Array([0, 1]), 0, 1); a.close(); },
            t383: () => { let a = new AudioContext(); let d = a.createDelay(); d.delayTime.exponentialRampToValueAtTime(1, 1); a.suspend(); },
            t384: () => { let a = new AudioContext(); let w = a.createWaveShaper(); w.curve = new Float32Array(0x100); a.close(); },
            t385: () => { let a = new AudioContext(); let p = a.createPanner(); p.panningModel = 'HRTF'; p.distanceModel = 'linear'; },
            t386: () => { let a = new AudioContext(); let o = a.createOscillator(); o.frequency.value = NaN; o.start(); },
            t387: () => { let a = new AudioContext(); let c = a.createConvolver(); c.normalize = false; c.buffer = null; },
            t388: () => { let a = new AudioContext(); let n = a.createAnalyser(); n.getFloatTimeDomainData(new Float32Array(10)); },
            t389: () => { let a = new AudioContext(); a.createPeriodicWave(new Float32Array([0]), new Float32Array([0])); },
            t390: () => { let a = new AudioContext(); a.decodeAudioData(new ArrayBuffer(8), ()=>{}, ()=>{}); },

            // Transport & Misc APIs (391-400)
            t391: () => { let c = new MessageChannel(); c.port1.postMessage(c.port1, [c.port1]); },
            t392: () => { let b = new Blob(['a']); b.slice(0, 1).stream().getReader().read(); },
            t393: () => { let u = new URL('http://a'); u.username = 'a'.repeat(1000); u.password = 'b'.repeat(1000); },
            t394: () => { let h = new Headers(); h.append('a', 'b'); h.forEach((v, k) => h.delete(k)); },
            t395: () => { let r = new Request('http://a', {method: 'POST', body: new Blob([])}); r.clone(); },
            t396: () => { let f = new FontFace('a', 'local("a")'); f.load().catch(()=>{}); },
            t397: () => { let s = new ReadableStream({start(c){c.enqueue(new Uint8Array(10)); c.close();}}); s.getReader().read(); },
            t398: () => { performance.mark('a'); performance.measure('a', 'a'); performance.clearMarks(); },
            t399: () => { let u = new URLSearchParams(); u.append('a', 'b'); u.set('a', 'c'); u.delete('a'); },
            t400: () => { let p = new Path2D(); p.rect(0, 0, NaN, NaN); },
 // Microtasks & Promise Race (401-410)
            t401: () => { let p = Promise.resolve(); p.then(() => { target.innerHTML = '<a></a>'; p.then(() => target.firstChild.remove()); }); },
            t402: () => { let controller = new AbortController(); controller.signal.onabort = () => { throw new Error(); }; controller.abort(); },
            t403: () => { let ts = new TransformStream({ transform(chunk, ctrl) { ctrl.error(); } }); ts.writable.getWriter().write('a').catch(()=>{}); },
            t404: () => { let rs = new ReadableStream({ start(c) { c.enqueue('a'); c.close(); } }); rs.getReader().read(); rs.cancel(); },
            t405: () => { let q = queueMicrotask(() => { target.innerHTML = ''; }); target.appendChild(document.createElement('div')); },
            t406: () => { let p = Promise.reject(new Error()); p.catch(() => {}); window.onunhandledrejection = () => { target.innerHTML = ''; }; },
            t407: () => { let c = new MessageChannel(); c.port1.onmessage = () => { c.port2.postMessage('a'); }; c.port2.postMessage('b'); },
            t408: () => { let b = new Blob([''], {type: 'text/html'}); b.text().then(() => target.remove()); },
            t409: () => { let r = new Response(new ReadableStream()); r.arrayBuffer().catch(()=>{}); },
            t410: () => { let u = URL.createObjectURL(new Blob([])); URL.revokeObjectURL(u); fetch(u).catch(()=>{}); },

            // JSC & Memory Layout (411-420)
            t411: () => { let a = new Float64Array(10); Object.defineProperty(a, 'length', {get: () => 0x1000}); Array.prototype.reverse.call(a); },
            t412: () => { let p = new Proxy({}, { get: () => { return p; } }); Object.assign({}, p); },
            t413: () => { let b = new ArrayBuffer(8, {maxByteLength: 16}); b.resize(12); },
            t414: () => { let s = new String('a'); s[0] = 'b'; Object.defineProperty(s, '0', {value: 'c'}); },
            t415: () => { let m = new Map(); m.set(m, m); JSON.stringify(m); },
            t416: () => { let a = []; a[0x3fffffff] = 1; a.push(2); },
            t417: () => { let o = { [Symbol.iterator]: () => { return { next: () => { return { done: false }; } }; } }; let [x] = o; },
            t418: () => { let b = new Uint8Array(10); b.set({length: 0x1000, 0: 1}); },
            t419: () => { let f = new FinalizationRegistry(() => {}); f.register({}, 'a'); },
            t420: () => { let w = new WeakRef({}); w.deref(); },

            // CSS & Selector Engine (421-430)
            t421: () => { target.innerHTML = '<style>div:nth-child(1n+1) { color: red; }</style>'.repeat(100); },
            t422: () => { target.style.gridTemplateAreas = '"' + 'a '.repeat(1000) + '"'; },
            t423: () => { target.style.clipPath = 'polygon(' + '0% 0%, '.repeat(500) + '100% 100%)'; },
            t424: () => { target.style.filter = 'blur(1px) '.repeat(100); },
            t425: () => { target.style.backgroundImage = 'radial-gradient(circle, red, blue) '.repeat(20); },
            t426: () => { target.style.mask = 'url(#f)'.repeat(10); target.innerHTML = '<svg><filter id="f"></filter></svg>'; },
            t427: () => { target.style.transform = 'matrix(1,1,1,1,1,1) '.repeat(50); },
            t428: () => { target.style.content = 'counter(a) '.repeat(100); },
            t429: () => { target.style.boxShadow = '0 0 1px red, '.repeat(100) + '0 0 1px blue'; },
            t430: () => { target.style.transition = 'all 1s steps(10000)'; },

            // WebAudio & Media States (431-440)
            t431: () => { let a = new AudioContext(); let b = a.createBuffer(1, 1, 22050); a.decodeAudioData(new ArrayBuffer(8)).catch(()=>{}); a.close(); },
            t432: () => { let a = new AudioContext(); let s = a.createBufferSource(); s.buffer = null; s.start(); a.close(); },
            t433: () => { let a = new AudioContext(); let g = a.createGain(); g.gain.setTargetAtTime(1, 0, 0); a.close(); },
            t434: () => { let a = new AudioContext(); let p = a.createPanner(); p.orientationX.value = NaN; },
            t435: () => { let a = new AudioContext(); let d = a.createDelay(); d.delayTime.cancelScheduledValues(0); a.close(); },
            t436: () => { let a = new AudioContext(); let w = a.createWaveShaper(); w.oversample = '4x'; w.curve = new Float32Array(2); },
            t437: () => { let a = new AudioContext(); let o = a.createOscillator(); o.stop(); o.start(); },
            t438: () => { let a = new AudioContext(); let c = a.createConvolver(); c.buffer = a.createBuffer(1, 1, 22050); a.close(); },
            t439: () => { let a = new AudioContext(); let n = a.createAnalyser(); n.getByteFrequencyData(new Uint8Array(0)); },
            t440: () => { let a = new AudioContext(); a.createWorklet().catch(()=>{}); a.close(); },

            // Intl & Misc (441-450)
            t441: () => { new Intl.DisplayNames(['en'], {type: 'region'}).of('ZZ'); },
            t442: () => { new Intl.Locale('ar-EG-u-ca-islamic-nu-arab'); },
            t443: () => { new Intl.DateTimeFormat('en', {timeZone: 'UTC'}).formatRange(new Date(), new Date()); },
            t444: () => { new Intl.NumberFormat('en', {notation: 'compact'}).format(1e30); },
            t445: () => { 'a'.matchAll(/a/g).next(); },
            t446: () => { let f = new FontFace('a', 'url(b)', {display: 'block'}); f.load().catch(()=>{}); },
            t447: () => { let p = new Path2D(); p.addPath(p); },
            t448: () => { performance.measure('a', {start: 0, end: 1}); },
            t449: () => { let u = new URLSearchParams(); u.append('\0', '\0'); u.toString(); },
            t450: () => { let c = new MessageChannel(); c.port1.onmessageerror = () => {}; c.port1.close(); },
// Mutation & DOM Reentrancy (451-460)
            t451: () => { let mo = new MutationObserver(() => { display.setAttribute('a', Math.random()); }); mo.observe(display, {attributes: true}); display.setAttribute('a', 'b'); },
            t452: () => { display.addEventListener('DOMNodeInserted', () => { display.innerHTML = ''; }, {once: true}); display.appendChild(document.createElement('div')); },
            t453: () => { let s = document.createElement('slot'); s.onbeforecopy = () => s.remove(); document.body.appendChild(s); document.execCommand('copy'); },
            t454: () => { let i = document.createElement('iframe'); i.srcdoc = '<body onload="window.stop()"></body>'; document.body.appendChild(i); },
            t455: () => { let r = document.createRange(); r.setStart(document.body, 0); document.body.innerText = ''; r.extractContents(); },
            t456: () => { let n = document.createNodeIterator(document.body, NodeFilter.SHOW_ELEMENT); n.nextNode(); document.body.innerHTML = ''; n.previousNode(); },
            t457: () => { let d = document.createElement('div'); d.attachShadow({mode:'open'}).innerHTML = '<slot></slot>'; d.firstChild.onbeforeload = () => d.remove(); },
            t458: () => { let t = document.createElement('textarea'); t.onfocus = () => t.blur(); t.focus(); },
            t459: () => { let o = document.createElement('object'); o.type = 'text/html'; o.data = 'about:blank'; o.onload = () => o.data = ''; },
            t460: () => { document.implementation.createHTMLDocument().adoptNode(document.body); },

            // JSC & Object Transitions (461-470)
            t461: () => { let a = [1.1]; Object.defineProperty(Array.prototype, '0', {get: () => { a.length = 0; return 2.2; }}); a.sort(); },
            t462: () => { let p = new Proxy({}, { get: (t, k) => { if (k === 'valueOf') return () => { throw 1; }; return t[k]; } }); try { 1 + p; } catch(e){} },
            t463: () => { let b = new Uint32Array(10); Object.defineProperty(b, 'byteLength', {get: () => 0xFFFFFFFF}); b.subarray(1); },
            t464: () => { let o = { __proto__: null }; Object.setPrototypeOf(o, Proxy.prototype); },
            t465: () => { let s = new Set(); s.add(s); s.forEach(v => s.delete(v)); },
            t466: () => { let m = new Map(); m.set(m, m); m.get(m); m.clear(); },
            t467: () => { let p = Proxy.revocable([], {}); p.revoke(); try { p.proxy.length; } catch(e){} },
            t468: () => { let a = new Float64Array(8); Object.setPrototypeOf(a, {}); a.filter(() => true); },
            t469: () => { function f(){ f.caller; } f(); },
            t470: () => { let o = { [Symbol.toPrimitive]: () => { return {}; } }; try { 1 + o; } catch(e){} },

            // CSS & Rendering Engine (471-480)
            t471: () => { display.style.maskImage = 'url(#f)'.repeat(10); display.innerHTML = '<svg><filter id="f"></filter></svg>'; },
            t472: () => { display.style.gridTemplateColumns = 'repeat(1000, 1fr)'; },
            t473: () => { display.style.clipPath = 'circle(at NaN% NaN%)'; },
            t474: () => { display.style.filter = 'blur(1px) '.repeat(50); },
            t475: () => { display.style.transform = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0)'; },
            t476: () => { display.style.columnCount = '2'; display.style.columnFill = 'auto'; display.style.height = '1px'; },
            t477: () => { display.style.shapeOutside = 'ellipse(50% 50% at 50% 50%)'; display.style.float = 'left'; },
            t478: () => { display.style.perspective = 'calc(1px - 1px)'; },
            t479: () => { display.style.content = 'url("data:image/svg+xml,<svg xmlns=\'http://www.w3.org/2000/svg\'></svg>")'; },
            t480: () => { display.style.backdropFilter = 'blur(NaNpx)'; },

            // WebAudio & Node Cycles (481-490)
            t481: () => { let a = new AudioContext(); let g = a.createGain(); g.connect(g); a.close(); },
            t482: () => { let a = new AudioContext(); let s = a.createBufferSource(); s.onended = () => a.close(); s.start(); },
            t483: () => { let a = new AudioContext(); let d = a.createDelay(); d.delayTime.value = 0.5; a.suspend(); },
            t484: () => { let a = new AudioContext(); let w = a.createWaveShaper(); w.curve = new Float32Array(0); },
            t485: () => { let a = new AudioContext(); let p = a.createPanner(); p.panningModel = 'HRTF'; p.setPosition(0,0,0); },
            t486: () => { let a = new AudioContext(); let o = a.createOscillator(); o.frequency.value = NaN; o.start(); },
            t487: () => { let a = new AudioContext(); let c = a.createConvolver(); c.normalize = false; c.buffer = null; },
            t488: () => { let a = new AudioContext(); let n = a.createAnalyser(); n.getFloatTimeDomainData(new Float32Array(0)); },
            t489: () => { let a = new AudioContext(); a.createPeriodicWave(new Float32Array([0]), new Float32Array([0])); },
            t490: () => { let a = new AudioContext(); a.decodeAudioData(new ArrayBuffer(0), ()=>{}, ()=>{}); },

            // Misc & Logic (491-500)
            t491: () => { let b = new Blob(['a']); b.slice(0, 1).stream().getReader().read(); },
            t492: () => { let u = new URL('http://a'); u.username = 'a'.repeat(1000); u.password = 'b'.repeat(1000); },
            t493: () => { let h = new Headers(); h.append('a', 'b'); h.forEach((v, k) => h.delete(k)); },
            t494: () => { let r = new Request('http://a', {method: 'POST', body: new Blob([])}); r.clone(); },
            t495: () => { let f = new FontFace('a', 'local("a")'); f.load().catch(()=>{}); },
            t496: () => { let s = new ReadableStream({start(c){c.enqueue(new Uint8Array(10)); c.close();}}); s.getReader().read(); },
            t497: () => { performance.mark('a'); performance.measure('a', 'a'); performance.clearMarks(); },
            t498: () => { let u = new URLSearchParams(); u.append('a', 'b'); u.set('a', 'c'); u.delete('a'); },
            t499: () => { let p = new Path2D(); p.rect(0, 0, NaN, NaN); },
            t500: () => { let c = new MessageChannel(); c.port1.postMessage(c.port1, [c.port1]); }


        };

        Object.keys(tests).forEach((key, index) => {
            let btn = document.createElement('button');
            btn.innerText = `${index + 1}. ${key}`;
            btn.onclick = () => { log(`Executando ${key}...`); tests[key](); };
            document.body.appendChild(btn);
        });
    </script>
</body>
</html>
